{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SIDDH\\\\Desktop\\\\friend project\\\\client\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Container, Grid, Paper, Typography, TextField, Box, Tab, Tabs, Alert, Snackbar, CircularProgress } from \"@mui/material\";\nimport axios from \"axios\";\nimport { useAuth } from \"../context/AuthContext\";\nimport LoadingSpinner from \"../components/LoadingSpinner\";\nimport UserCard from \"../components/UserCard\";\nimport FriendRequest from \"../components/FriendRequest\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  const [value, setValue] = useState(0);\n  const [users, setUsers] = useState([]);\n  const [friends, setFriends] = useState([]);\n  const [recommendations, setRecommendations] = useState([]);\n  const [friendRequests, setFriendRequests] = useState([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const {\n    user\n  } = useAuth();\n\n  // Fetch initial data\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const [usersRes, friendsRes, recommendationsRes, requestsRes] = await Promise.all([axios.get(\"/api/users\", {\n          headers: {\n            \"x-auth-token\": user\n          }\n        }), axios.get(\"/api/friends\", {\n          headers: {\n            \"x-auth-token\": user\n          }\n        }), axios.get(\"/api/recommendations\", {\n          headers: {\n            \"x-auth-token\": user\n          }\n        }), axios.get(\"/api/friends/requests\", {\n          headers: {\n            \"x-auth-token\": user\n          }\n        })]);\n        console.log(\"Friend requests response:\", requestsRes.data);\n        setUsers(usersRes.data);\n        setFriends(friendsRes.data);\n        setRecommendations(recommendationsRes.data);\n        setFriendRequests(requestsRes.data);\n      } catch (err) {\n        var _err$response, _err$response$data;\n        console.error(\"Error fetching data:\", err);\n        setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Error fetching data\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [user]);\n\n  // Calculate common interests between current user and another user\n  const getCommonInterests = (userInterests = [], otherUserInterests = []) => {\n    return userInterests.filter(interest => otherUserInterests.includes(interest));\n  };\n\n  // Render recommendation section with enhanced UI\n  const renderRecommendations = () => {\n    if (recommendations.length === 0) {\n      return /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        color: \"text.secondary\",\n        sx: {\n          mt: 2\n        },\n        children: \"No recommendations available at the moment.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this);\n    }\n    return recommendations.map(recommendation => {\n      var _friends$;\n      return /*#__PURE__*/_jsxDEV(UserCard, {\n        user: recommendation,\n        onAction: handleFriendRequest,\n        actionText: \"Add Friend\",\n        mutualFriends: recommendation.mutualFriends,\n        commonInterests: getCommonInterests(((_friends$ = friends[0]) === null || _friends$ === void 0 ? void 0 : _friends$.interests) || [],\n        // Current user's interests\n        recommendation.interests || [])\n      }, recommendation._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }, this);\n    });\n  };\n\n  // Handle tab change\n  const handleTabChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  // Handle friend request\n  const handleFriendRequest = async userId => {\n    try {\n      await axios.post(`/api/friends/request/${userId}`, {}, {\n        headers: {\n          \"x-auth-token\": user\n        }\n      });\n      setUsers(users.filter(u => u._id !== userId));\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || \"Error sending friend request\");\n    }\n  };\n\n  // Handle accept friend request\n  const handleAcceptRequest = async userId => {\n    try {\n      await axios.put(`/api/friends/accept/${userId}`, {}, {\n        headers: {\n          \"x-auth-token\": user\n        }\n      });\n      setFriendRequests(friendRequests.filter(req => req.from._id !== userId));\n      // Refresh friends list\n      const friendsRes = await axios.get(\"/api/friends\", {\n        headers: {\n          \"x-auth-token\": user\n        }\n      });\n      setFriends(friendsRes.data);\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      setError(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || \"Error accepting friend request\");\n    }\n  };\n\n  // Handle reject friend request\n  const handleRejectRequest = async userId => {\n    try {\n      await axios.put(`/api/friends/reject/${userId}`, {}, {\n        headers: {\n          \"x-auth-token\": user\n        }\n      });\n      setFriendRequests(friendRequests.filter(req => req.from._id !== userId));\n    } catch (err) {\n      var _err$response4, _err$response4$data;\n      setError(((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.message) || \"Error rejecting friend request\");\n    }\n  };\n\n  // Handle unfriend\n  const handleUnfriend = async userId => {\n    try {\n      await axios.delete(`/api/friends/${userId}`, {\n        headers: {\n          \"x-auth-token\": user\n        }\n      });\n      setFriends(friends.filter(f => f._id !== userId));\n    } catch (err) {\n      var _err$response5, _err$response5$data;\n      setError(((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : (_err$response5$data = _err$response5.data) === null || _err$response5$data === void 0 ? void 0 : _err$response5$data.message) || \"Error removing friend\");\n    }\n  };\n\n  // Handle search\n  const handleSearch = async () => {\n    try {\n      setLoading(true);\n      const res = await axios.get(`/api/users/search?q=${searchTerm}`, {\n        headers: {\n          \"x-auth-token\": user\n        }\n      });\n      setUsers(res.data);\n    } catch (err) {\n      var _err$response6, _err$response6$data;\n      setError(((_err$response6 = err.response) === null || _err$response6 === void 0 ? void 0 : (_err$response6$data = _err$response6.data) === null || _err$response6$data === void 0 ? void 0 : _err$response6$data.message) || \"Error searching users\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Add this near the top of the component\n  useEffect(() => {\n    // Initial fetch\n    fetchData();\n\n    // Set up periodic refresh\n    const refreshInterval = setInterval(() => {\n      if (value === 1) {\n        // Only refresh when on friend requests tab\n        fetchFriendRequests();\n      }\n    }, 5000); // Refresh every 5 seconds\n\n    return () => clearInterval(refreshInterval);\n  }, [value]);\n\n  // Add this function\n  const fetchFriendRequests = async () => {\n    try {\n      const response = await axios.get(\"/api/friends/requests\", {\n        headers: {\n          \"x-auth-token\": user\n        }\n      });\n      console.log(\"Refreshed friend requests:\", response.data);\n      setFriendRequests(response.data);\n    } catch (error) {\n      console.error(\"Error fetching friend requests:\", error);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    sx: {\n      mt: 4,\n      mb: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 2\n          },\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            display: \"flex\",\n            gap: 2,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Search Users\",\n              value: searchTerm,\n              onChange: e => setSearchTerm(e.target.value),\n              onKeyPress: e => e.key === \"Enter\" && handleSearch()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            width: \"100%\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Tabs, {\n            value: value,\n            onChange: handleTabChange,\n            centered: true,\n            children: [/*#__PURE__*/_jsxDEV(Tab, {\n              label: \"Discover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tab, {\n              label: `Friend Requests (${friendRequests.length})`,\n              sx: {\n                color: friendRequests.length > 0 ? \"primary.main\" : \"inherit\",\n                fontWeight: friendRequests.length > 0 ? \"bold\" : \"normal\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tab, {\n              label: `Friends (${friends.length})`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tab, {\n              label: \"Recommendations\",\n              sx: {\n                color: recommendations.length > 0 ? \"primary.main\" : \"inherit\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              p: 2\n            },\n            children: [value === 0 && /*#__PURE__*/_jsxDEV(Box, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                gutterBottom: true,\n                children: \"Discover New People\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 19\n              }, this), users.map(user => {\n                var _friends$2;\n                return /*#__PURE__*/_jsxDEV(UserCard, {\n                  user: user,\n                  onAction: handleFriendRequest,\n                  actionText: \"Add Friend\",\n                  commonInterests: getCommonInterests(((_friends$2 = friends[0]) === null || _friends$2 === void 0 ? void 0 : _friends$2.interests) || [], user.interests || [])\n                }, user._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 21\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 17\n            }, this), value === 1 && /*#__PURE__*/_jsxDEV(Box, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                gutterBottom: true,\n                children: \"Friend Requests\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 19\n              }, this), friendRequests.length === 0 ? /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                color: \"text.secondary\",\n                children: \"No pending friend requests.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 21\n              }, this) : friendRequests.map(request => /*#__PURE__*/_jsxDEV(FriendRequest, {\n                request: request,\n                onAccept: handleAcceptRequest,\n                onReject: handleRejectRequest\n              }, request._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 23\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 17\n            }, this), value === 2 && /*#__PURE__*/_jsxDEV(Box, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                gutterBottom: true,\n                children: \"Your Friends\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 19\n              }, this), friends.length === 0 ? /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                color: \"text.secondary\",\n                children: \"You haven't added any friends yet.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 21\n              }, this) : friends.map(friend => /*#__PURE__*/_jsxDEV(UserCard, {\n                user: friend,\n                onAction: handleUnfriend,\n                actionText: \"Unfriend\",\n                actionColor: \"error\"\n              }, friend._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 23\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 17\n            }, this), value === 3 && /*#__PURE__*/_jsxDEV(Box, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                gutterBottom: true,\n                children: \"Recommended Friends\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                sx: {\n                  mb: 2\n                },\n                children: \"Based on mutual friends and common interests\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 19\n              }, this), renderRecommendations()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: !!error,\n      autoHideDuration: 6000,\n      onClose: () => setError(\"\"),\n      anchorOrigin: {\n        vertical: \"bottom\",\n        horizontal: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: () => setError(\"\"),\n        severity: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 224,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"XP7yzJmoLugfJbgIHWeNiqCpv/Y=\", false, function () {\n  return [useAuth];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useEffect","Container","Grid","Paper","Typography","TextField","Box","Tab","Tabs","Alert","Snackbar","CircularProgress","axios","useAuth","LoadingSpinner","UserCard","FriendRequest","jsxDEV","_jsxDEV","Home","_s","value","setValue","users","setUsers","friends","setFriends","recommendations","setRecommendations","friendRequests","setFriendRequests","searchTerm","setSearchTerm","loading","setLoading","error","setError","user","fetchData","usersRes","friendsRes","recommendationsRes","requestsRes","Promise","all","get","headers","console","log","data","err","_err$response","_err$response$data","response","message","getCommonInterests","userInterests","otherUserInterests","filter","interest","includes","renderRecommendations","length","variant","color","sx","mt","children","fileName","_jsxFileName","lineNumber","columnNumber","map","recommendation","_friends$","onAction","handleFriendRequest","actionText","mutualFriends","commonInterests","interests","_id","handleTabChange","event","newValue","userId","post","u","_err$response2","_err$response2$data","handleAcceptRequest","put","req","from","_err$response3","_err$response3$data","handleRejectRequest","_err$response4","_err$response4$data","handleUnfriend","delete","f","_err$response5","_err$response5$data","handleSearch","res","_err$response6","_err$response6$data","refreshInterval","setInterval","fetchFriendRequests","clearInterval","maxWidth","mb","container","spacing","item","xs","p","display","gap","fullWidth","label","onChange","e","target","onKeyPress","key","width","centered","fontWeight","gutterBottom","_friends$2","request","onAccept","onReject","friend","actionColor","open","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","severity","_c","$RefreshReg$"],"sources":["C:/Users/SIDDH/Desktop/friend project/client/src/pages/Home.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Container,\r\n  Grid,\r\n  Paper,\r\n  Typography,\r\n  TextField,\r\n  Box,\r\n  Tab,\r\n  Tabs,\r\n  Alert,\r\n  Snackbar,\r\n  CircularProgress,\r\n} from \"@mui/material\";\r\nimport axios from \"axios\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport LoadingSpinner from \"../components/LoadingSpinner\";\r\nimport UserCard from \"../components/UserCard\";\r\nimport FriendRequest from \"../components/FriendRequest\";\r\n\r\nconst Home = () => {\r\n  const [value, setValue] = useState(0);\r\n  const [users, setUsers] = useState([]);\r\n  const [friends, setFriends] = useState([]);\r\n  const [recommendations, setRecommendations] = useState([]);\r\n  const [friendRequests, setFriendRequests] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n  const { user } = useAuth();\r\n\r\n  // Fetch initial data\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const [usersRes, friendsRes, recommendationsRes, requestsRes] =\r\n          await Promise.all([\r\n            axios.get(\"/api/users\", {\r\n              headers: { \"x-auth-token\": user },\r\n            }),\r\n            axios.get(\"/api/friends\", {\r\n              headers: { \"x-auth-token\": user },\r\n            }),\r\n            axios.get(\"/api/recommendations\", {\r\n              headers: { \"x-auth-token\": user },\r\n            }),\r\n            axios.get(\"/api/friends/requests\", {\r\n              headers: { \"x-auth-token\": user },\r\n            }),\r\n          ]);\r\n\r\n        console.log(\"Friend requests response:\", requestsRes.data);\r\n        setUsers(usersRes.data);\r\n        setFriends(friendsRes.data);\r\n        setRecommendations(recommendationsRes.data);\r\n        setFriendRequests(requestsRes.data);\r\n      } catch (err) {\r\n        console.error(\"Error fetching data:\", err);\r\n        setError(err.response?.data?.message || \"Error fetching data\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [user]);\r\n\r\n  // Calculate common interests between current user and another user\r\n  const getCommonInterests = (userInterests = [], otherUserInterests = []) => {\r\n    return userInterests.filter((interest) =>\r\n      otherUserInterests.includes(interest)\r\n    );\r\n  };\r\n\r\n  // Render recommendation section with enhanced UI\r\n  const renderRecommendations = () => {\r\n    if (recommendations.length === 0) {\r\n      return (\r\n        <Typography variant=\"body1\" color=\"text.secondary\" sx={{ mt: 2 }}>\r\n          No recommendations available at the moment.\r\n        </Typography>\r\n      );\r\n    }\r\n\r\n    return recommendations.map((recommendation) => (\r\n      <UserCard\r\n        key={recommendation._id}\r\n        user={recommendation}\r\n        onAction={handleFriendRequest}\r\n        actionText=\"Add Friend\"\r\n        mutualFriends={recommendation.mutualFriends}\r\n        commonInterests={getCommonInterests(\r\n          friends[0]?.interests || [], // Current user's interests\r\n          recommendation.interests || []\r\n        )}\r\n      />\r\n    ));\r\n  };\r\n\r\n  // Handle tab change\r\n  const handleTabChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  // Handle friend request\r\n  const handleFriendRequest = async (userId) => {\r\n    try {\r\n      await axios.post(\r\n        `/api/friends/request/${userId}`,\r\n        {},\r\n        {\r\n          headers: { \"x-auth-token\": user },\r\n        }\r\n      );\r\n      setUsers(users.filter((u) => u._id !== userId));\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || \"Error sending friend request\");\r\n    }\r\n  };\r\n\r\n  // Handle accept friend request\r\n  const handleAcceptRequest = async (userId) => {\r\n    try {\r\n      await axios.put(\r\n        `/api/friends/accept/${userId}`,\r\n        {},\r\n        {\r\n          headers: { \"x-auth-token\": user },\r\n        }\r\n      );\r\n      setFriendRequests(\r\n        friendRequests.filter((req) => req.from._id !== userId)\r\n      );\r\n      // Refresh friends list\r\n      const friendsRes = await axios.get(\"/api/friends\", {\r\n        headers: { \"x-auth-token\": user },\r\n      });\r\n      setFriends(friendsRes.data);\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || \"Error accepting friend request\");\r\n    }\r\n  };\r\n\r\n  // Handle reject friend request\r\n  const handleRejectRequest = async (userId) => {\r\n    try {\r\n      await axios.put(\r\n        `/api/friends/reject/${userId}`,\r\n        {},\r\n        {\r\n          headers: { \"x-auth-token\": user },\r\n        }\r\n      );\r\n      setFriendRequests(\r\n        friendRequests.filter((req) => req.from._id !== userId)\r\n      );\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || \"Error rejecting friend request\");\r\n    }\r\n  };\r\n\r\n  // Handle unfriend\r\n  const handleUnfriend = async (userId) => {\r\n    try {\r\n      await axios.delete(`/api/friends/${userId}`, {\r\n        headers: { \"x-auth-token\": user },\r\n      });\r\n      setFriends(friends.filter((f) => f._id !== userId));\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || \"Error removing friend\");\r\n    }\r\n  };\r\n\r\n  // Handle search\r\n  const handleSearch = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await axios.get(`/api/users/search?q=${searchTerm}`, {\r\n        headers: { \"x-auth-token\": user },\r\n      });\r\n      setUsers(res.data);\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || \"Error searching users\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Add this near the top of the component\r\n  useEffect(() => {\r\n    // Initial fetch\r\n    fetchData();\r\n\r\n    // Set up periodic refresh\r\n    const refreshInterval = setInterval(() => {\r\n      if (value === 1) {\r\n        // Only refresh when on friend requests tab\r\n        fetchFriendRequests();\r\n      }\r\n    }, 5000); // Refresh every 5 seconds\r\n\r\n    return () => clearInterval(refreshInterval);\r\n  }, [value]);\r\n\r\n  // Add this function\r\n  const fetchFriendRequests = async () => {\r\n    try {\r\n      const response = await axios.get(\"/api/friends/requests\", {\r\n        headers: { \"x-auth-token\": user },\r\n      });\r\n      console.log(\"Refreshed friend requests:\", response.data);\r\n      setFriendRequests(response.data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching friend requests:\", error);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <LoadingSpinner />;\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4 }}>\r\n      <Grid container spacing={3}>\r\n        {/* Search Section */}\r\n        <Grid item xs={12}>\r\n          <Paper sx={{ p: 2 }}>\r\n            <Box display=\"flex\" gap={2}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Search Users\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                onKeyPress={(e) => e.key === \"Enter\" && handleSearch()}\r\n              />\r\n            </Box>\r\n          </Paper>\r\n        </Grid>\r\n\r\n        {/* Main Content */}\r\n        <Grid item xs={12}>\r\n          <Paper sx={{ width: \"100%\" }}>\r\n            <Tabs value={value} onChange={handleTabChange} centered>\r\n              <Tab label=\"Discover\" />\r\n              <Tab\r\n                label={`Friend Requests (${friendRequests.length})`}\r\n                sx={{\r\n                  color: friendRequests.length > 0 ? \"primary.main\" : \"inherit\",\r\n                  fontWeight: friendRequests.length > 0 ? \"bold\" : \"normal\",\r\n                }}\r\n              />\r\n              <Tab label={`Friends (${friends.length})`} />\r\n              <Tab\r\n                label=\"Recommendations\"\r\n                sx={{\r\n                  color:\r\n                    recommendations.length > 0 ? \"primary.main\" : \"inherit\",\r\n                }}\r\n              />\r\n            </Tabs>\r\n\r\n            <Box sx={{ p: 2 }}>\r\n              {value === 0 && (\r\n                <Box>\r\n                  <Typography variant=\"h6\" gutterBottom>\r\n                    Discover New People\r\n                  </Typography>\r\n                  {users.map((user) => (\r\n                    <UserCard\r\n                      key={user._id}\r\n                      user={user}\r\n                      onAction={handleFriendRequest}\r\n                      actionText=\"Add Friend\"\r\n                      commonInterests={getCommonInterests(\r\n                        friends[0]?.interests || [],\r\n                        user.interests || []\r\n                      )}\r\n                    />\r\n                  ))}\r\n                </Box>\r\n              )}\r\n\r\n              {value === 1 && (\r\n                <Box>\r\n                  <Typography variant=\"h6\" gutterBottom>\r\n                    Friend Requests\r\n                  </Typography>\r\n                  {friendRequests.length === 0 ? (\r\n                    <Typography variant=\"body1\" color=\"text.secondary\">\r\n                      No pending friend requests.\r\n                    </Typography>\r\n                  ) : (\r\n                    friendRequests.map((request) => (\r\n                      <FriendRequest\r\n                        key={request._id}\r\n                        request={request}\r\n                        onAccept={handleAcceptRequest}\r\n                        onReject={handleRejectRequest}\r\n                      />\r\n                    ))\r\n                  )}\r\n                </Box>\r\n              )}\r\n\r\n              {value === 2 && (\r\n                <Box>\r\n                  <Typography variant=\"h6\" gutterBottom>\r\n                    Your Friends\r\n                  </Typography>\r\n                  {friends.length === 0 ? (\r\n                    <Typography variant=\"body1\" color=\"text.secondary\">\r\n                      You haven't added any friends yet.\r\n                    </Typography>\r\n                  ) : (\r\n                    friends.map((friend) => (\r\n                      <UserCard\r\n                        key={friend._id}\r\n                        user={friend}\r\n                        onAction={handleUnfriend}\r\n                        actionText=\"Unfriend\"\r\n                        actionColor=\"error\"\r\n                      />\r\n                    ))\r\n                  )}\r\n                </Box>\r\n              )}\r\n\r\n              {value === 3 && (\r\n                <Box>\r\n                  <Typography variant=\"h6\" gutterBottom>\r\n                    Recommended Friends\r\n                  </Typography>\r\n                  <Typography\r\n                    variant=\"body2\"\r\n                    color=\"text.secondary\"\r\n                    sx={{ mb: 2 }}\r\n                  >\r\n                    Based on mutual friends and common interests\r\n                  </Typography>\r\n                  {renderRecommendations()}\r\n                </Box>\r\n              )}\r\n            </Box>\r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      <Snackbar\r\n        open={!!error}\r\n        autoHideDuration={6000}\r\n        onClose={() => setError(\"\")}\r\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\r\n      >\r\n        <Alert onClose={() => setError(\"\")} severity=\"error\">\r\n          {error}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}