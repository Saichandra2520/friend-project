{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SIDDH\\\\Desktop\\\\friend project\\\\client\\\\src\\\\pages\\\\Profile.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Container, Paper, Typography, Button, Box, Chip, Stack, Alert } from \"@mui/material\";\nimport axios from \"axios\";\nimport { useAuth } from \"../context/AuthContext\";\nimport InterestsSelector from \"../components/InterestsSelector\";\nimport LoadingSpinner from \"../components/LoadingSpinner\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profile = () => {\n  _s();\n  const [interests, setInterests] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [isInterestsDialogOpen, setIsInterestsDialogOpen] = useState(false);\n  const {\n    user\n  } = useAuth();\n  useEffect(() => {\n    fetchUserProfile();\n  }, []);\n  const fetchUserProfile = async () => {\n    try {\n      const response = await axios.get(\"/api/users/profile\", {\n        headers: {\n          \"x-auth-token\": user\n        }\n      });\n      setInterests(response.data.interests || []);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Error loading profile\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSaveInterests = async newInterests => {\n    try {\n      await axios.put(\"/api/interests\", {\n        interests: newInterests\n      }, {\n        headers: {\n          \"x-auth-token\": user\n        }\n      });\n      setInterests(newInterests);\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || \"Error updating interests\");\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    sx: {\n      mt: 4\n    },\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        p: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        gutterBottom: true,\n        children: \"Your Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        sx: {\n          mb: 2\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(Stack, {\n          direction: \"row\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n          sx: {\n            mb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            children: \"Interests\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            onClick: () => setIsInterestsDialogOpen(true),\n            children: \"Edit Interests\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Stack, {\n          direction: \"row\",\n          spacing: 1,\n          flexWrap: \"wrap\",\n          children: interests.map(interest => /*#__PURE__*/_jsxDEV(Chip, {\n            label: interest\n          }, interest, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InterestsSelector, {\n        open: isInterestsDialogOpen,\n        onClose: () => setIsInterestsDialogOpen(false),\n        currentInterests: interests,\n        onSave: handleSaveInterests\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(Profile, \"NCMhxj3gNOlFpir5T3ao2Y2yOmU=\", false, function () {\n  return [useAuth];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","Container","Paper","Typography","Button","Box","Chip","Stack","Alert","axios","useAuth","InterestsSelector","LoadingSpinner","jsxDEV","_jsxDEV","Profile","_s","interests","setInterests","loading","setLoading","error","setError","isInterestsDialogOpen","setIsInterestsDialogOpen","user","fetchUserProfile","response","get","headers","data","err","_err$response","_err$response$data","message","handleSaveInterests","newInterests","put","_err$response2","_err$response2$data","fileName","_jsxFileName","lineNumber","columnNumber","maxWidth","sx","mt","children","p","variant","gutterBottom","severity","mb","direction","alignItems","justifyContent","onClick","spacing","flexWrap","map","interest","label","open","onClose","currentInterests","onSave","_c","$RefreshReg$"],"sources":["C:/Users/SIDDH/Desktop/friend project/client/src/pages/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Container,\r\n  Paper,\r\n  Typography,\r\n  Button,\r\n  Box,\r\n  Chip,\r\n  Stack,\r\n  Alert,\r\n} from \"@mui/material\";\r\nimport axios from \"axios\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport InterestsSelector from \"../components/InterestsSelector\";\r\nimport LoadingSpinner from \"../components/LoadingSpinner\";\r\n\r\nconst Profile = () => {\r\n  const [interests, setInterests] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n  const [isInterestsDialogOpen, setIsInterestsDialogOpen] = useState(false);\r\n  const { user } = useAuth();\r\n\r\n  useEffect(() => {\r\n    fetchUserProfile();\r\n  }, []);\r\n\r\n  const fetchUserProfile = async () => {\r\n    try {\r\n      const response = await axios.get(\"/api/users/profile\", {\r\n        headers: { \"x-auth-token\": user },\r\n      });\r\n      setInterests(response.data.interests || []);\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || \"Error loading profile\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSaveInterests = async (newInterests) => {\r\n    try {\r\n      await axios.put(\r\n        \"/api/interests\",\r\n        { interests: newInterests },\r\n        {\r\n          headers: { \"x-auth-token\": user },\r\n        }\r\n      );\r\n      setInterests(newInterests);\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || \"Error updating interests\");\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <LoadingSpinner />;\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"md\" sx={{ mt: 4 }}>\r\n      <Paper sx={{ p: 3 }}>\r\n        <Typography variant=\"h5\" gutterBottom>\r\n          Your Profile\r\n        </Typography>\r\n\r\n        {error && (\r\n          <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n            {error}\r\n          </Alert>\r\n        )}\r\n\r\n        <Box sx={{ mt: 3 }}>\r\n          <Stack\r\n            direction=\"row\"\r\n            alignItems=\"center\"\r\n            justifyContent=\"space-between\"\r\n            sx={{ mb: 2 }}\r\n          >\r\n            <Typography variant=\"h6\">Interests</Typography>\r\n            <Button\r\n              variant=\"outlined\"\r\n              onClick={() => setIsInterestsDialogOpen(true)}\r\n            >\r\n              Edit Interests\r\n            </Button>\r\n          </Stack>\r\n\r\n          <Stack direction=\"row\" spacing={1} flexWrap=\"wrap\">\r\n            {interests.map((interest) => (\r\n              <Chip key={interest} label={interest} />\r\n            ))}\r\n          </Stack>\r\n        </Box>\r\n\r\n        <InterestsSelector\r\n          open={isInterestsDialogOpen}\r\n          onClose={() => setIsInterestsDialogOpen(false)}\r\n          currentInterests={interests}\r\n          onSave={handleSaveInterests}\r\n        />\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}